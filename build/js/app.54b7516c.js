(function(e){function t(t){for(var r,o,u=t[0],i=t[1],s=t[2],l=0,f=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==c[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},c={app:0},a=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0de903":"544176f3","chunk-f44afc18":"698d43c1"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-f44afc18":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d0de903":"31d6cfe0","chunk-f44afc18":"b443ff06"}[e]+".css",c=i.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=a[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===c))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],l=s.getAttribute("data-href");if(l===r||l===c)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],d.parentNode.removeChild(d),n(a)},d.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){o[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var f=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",f.name="ChunkLoadError",f.type=r,f.request=o,n[1](f)}c[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"522b":function(e,t,n){},"720d":function(e,t,n){"use strict";n("783a")},"783a":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("83ea"),n("5925"),n("bc51"),n("4f82");var r=n("bfd1"),o={class:"app"};function c(e,t,n,c,a,u){var i=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createVNode"])(i)])}var a=Object(r["defineComponent"])({name:"App",components:{}}),u=(n("720d"),n("45ad")),i=n.n(u);const s=i()(a,[["render",c]]);var l=s,f=(n("c961"),n("c140"),n("1464"),n("6c02")),d=[{path:"/",redirect:"/login"},{path:"/login",component:function(){return n.e("chunk-f44afc18").then(n.bind(null,"dc3f"))}},{path:"/main",component:function(){return n.e("chunk-2d0de903").then(n.bind(null,"85d4"))}}],h=Object(f["a"])({routes:d,history:Object(f["b"])()}),p=h,g=n("5502"),v=n("c485"),m=(n("613a"),n("c1af")),b=n("8c0e"),w=n("9cc5"),y=n("bc3a"),k=n.n(y),O=n("90b1"),j=(n("308c"),n("d80c")),L=!0,C=function(){function e(t){var n,r,o,c,a,u=this;Object(b["a"])(this,e),this.instance=k.a.create(t),this.interceptors=t.interceptors,this.showLoading=null!==(n=t.showLoading)&&void 0!==n?n:L,this.instance.interceptors.request.use(null===(r=this.interceptors)||void 0===r?void 0:r.requestInterceptor,null===(o=this.interceptors)||void 0===o?void 0:o.requestInterceptorCatch),this.instance.interceptors.response.use(null===(c=this.interceptors)||void 0===c?void 0:c.responseInterceptor,null===(a=this.interceptors)||void 0===a?void 0:a.responseInterceptorCatch),this.instance.interceptors.request.use((function(e){var t,n=null!==(t=j["a"].getCache("token"))&&void 0!==t?t:"";return e.headers.Authorization="Bearer ".concat(n),console.log(u.showLoading),u.showLoading&&(u.loading=O["a"].service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"})),e}),(function(e){return e})),this.instance.interceptors.response.use((function(e){var t;return null===(t=u.loading)||void 0===t||t.close(),e.data}),(function(e){var t;return null===(t=u.loading)||void 0===t||t.close(),e}))}return Object(w["a"])(e,[{key:"request",value:function(e){var t=this;return new Promise((function(n,r){var o;null!==(o=e.interceptors)&&void 0!==o&&o.requestInterceptor&&(e=e.interceptors.requestInterceptor(e)),0==e.showLoading&&(t.showLoading=e.showLoading),t.instance.request(e).then((function(r){var o;null!==(o=e.interceptors)&&void 0!==o&&o.responseInterceptor&&(r=e.interceptors.responseInterceptor(r),t.showLoading=L),n(r)})).catch((function(e){t.showLoading=L,r(e)}))}))}},{key:"get",value:function(e){return this.request(Object(m["a"])(Object(m["a"])({},e),{},{method:"GET"}))}},{key:"post",value:function(e){return this.request(Object(m["a"])(Object(m["a"])({},e),{},{method:"POST"}))}},{key:"delete",value:function(e){return this.request(Object(m["a"])(Object(m["a"])({},e),{},{method:"DELETE"}))}},{key:"patch",value:function(e){return this.request(Object(m["a"])(Object(m["a"])({},e),{},{method:"PATCH"}))}}]),e}(),I=C,q="",S=1e4;var E,T=new I({baseURL:q,timeout:S,interceptors:{requestInterceptor:function(e){return e},requestInterceptorCatch:function(e){return e},responseInterceptor:function(e){return e},responseInterceptorCatch:function(e){return e}}});function A(e){return T.post({url:E.AccountLogin,data:e})}function M(e){return T.get({url:E.LoginUserInfo+e,showLoading:!1})}function P(e){return T.get({url:E.UserMenus+e+"/menu",showLoading:!1})}(function(e){e["AccountLogin"]="/login",e["LoginUserInfo"]="/users/",e["UserMenus"]="/role/"})(E||(E={}));var x={namespaced:!0,state:function(){return{token:"",userInfo:{},userMenus:[]}},mutations:{changeToken:function(e,t){e.token=t},changeUserInfo:function(e,t){e.userInfo=t},changeUserMenus:function(e,t){e.userMenus=t}},actions:{accountLoginAction:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r,o,c,a,u,i,s,l,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,A(t);case 3:return o=n.sent,c=o.data,a=c.id,u=c.token,r("changeToken",u),j["a"].setCache("token",u),n.next=9,M(a);case 9:return i=n.sent,s=i.data,r("changeUserInfo",s),j["a"].setCache("userInfo",s),n.next=15,P(s.role.id);case 15:l=n.sent,f=l.data,r("changeUserMenus",f),j["a"].setCache("userMenus",f),p.push("/main");case 20:case"end":return n.stop()}}),n)})))()},loadLocalLogin:function(e){var t=e.commit,n=j["a"].getCache("token");n&&t("changeToken",n);var r=j["a"].getCache("userInfo");r&&t("changeUserInfo",r);var o=j["a"].getCache("userMenus");o&&t("changeUserMenus",o)}}},U=x,_=Object(g["a"])({state:function(){return{name:"ali",age:18}},mutations:{},actions:{},getters:{},modules:{login:U}});function N(){console.log(1),_.dispatch("login/loadLocalLogin")}var B=_,J=(n("b2b1"),n("f1ba"),n("c408"),n("c848"));function D(e){Object.values(J).forEach((function(t){e.component(t.name,t)}))}function R(e){D(e)}n("f5df"),n("522b");var H=Object(r["createApp"])(l);H.use(p),H.use(B),N(),R(H),H.mount("#app")},d80c:function(e,t,n){"use strict";var r=n("8c0e"),o=n("9cc5"),c=(n("2a11"),function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,[{key:"setCache",value:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}},{key:"getCache",value:function(e){var t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}},{key:"deleteCache",value:function(e){window.localStorage.removeItem(e)}},{key:"clearCache",value:function(){window.localStorage.clear()}}]),e}());t["a"]=new c}});
//# sourceMappingURL=app.54b7516c.js.map